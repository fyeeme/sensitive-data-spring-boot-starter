# Sensitive Log Spring Boot Starter

é«˜æ€§èƒ½æ—¥å¿—è„±æ•ç»„ä»¶ï¼ŒåŸºäº Jackson åºåˆ—åŒ–å®ç°ï¼Œé›¶æ—¥å¿—æ¡†æ¶ä¾µå…¥ã€‚

## ç‰¹æ€§

- âœ… **é›¶ä¾µå…¥**ï¼šæ—¥å¿—æ¡†æ¶æ— éœ€ä»»ä½•æ”¹åŠ¨
- âœ… **é«˜æ€§èƒ½**ï¼šæ— æ­£åˆ™ã€æœ‰ç¼“å­˜ã€O(1) ç­–ç•¥æŸ¥æ‰¾
- âœ… **æ˜“æ‰©å±•**ï¼šæ”¯æŒè‡ªå®šä¹‰è„±æ•ç­–ç•¥
- âœ… **çµæ´»æ§åˆ¶**ï¼šæ”¯æŒçº¿ç¨‹çº§è„±æ•å¼€å…³
- âœ… **å¤šç§æ–¹æ¡ˆ**ï¼šJackson / toString / æ··åˆæ¨¡å¼å¯é…ç½®åˆ‡æ¢
- âœ… **API è„±æ•**ï¼šæ”¯æŒ API è¿”å›å€¼è„±æ• (â­ æ–°åŠŸèƒ½)
- âœ… **é›¶é…ç½®**ï¼šä½¿ç”¨ `@Sensitive(forApi=true)` å³å¯å¯ç”¨ API è„±æ•
- âœ… **æ¡†æ¶æ— å…³**ï¼šä¸ä¾èµ– Spring Boot è‡ªåŠ¨é…ç½®ï¼Œçº¯ Jackson å®ç°

## å¿«é€Ÿå¼€å§‹

### 1. æ·»åŠ ä¾èµ–

```xml
<dependency>
    <groupId>com.example</groupId>
    <artifactId>sensitive-log-spring-boot-starter</artifactId>
    <version>1.0.0</version>
</dependency>
```

### 2. é€‰æ‹©ä½¿ç”¨æ–¹æ¡ˆ

#### æ–¹æ¡ˆä¸€ï¼šç»§æ‰¿ SensitiveEntityï¼ˆæ¨è â­â­â­â­â­ï¼‰

**æœ€ç®€å•ï¼Œç›´æ¥æ‰“å°å¯¹è±¡å³å¯ï¼Œä¸å½±å“ API è¿”å›ï¼**

```java
@Data
public class UserDTO extends SensitiveEntity {
    
    private Long id;
    
    @Sensitive(type = SensitiveType.PHONE)
    private String phone;
    
    @Sensitive(type = SensitiveType.ID_CARD)
    private String idCard;
}

// æ—¥å¿—æ‰“å°ï¼ˆè‡ªåŠ¨è„±æ•ï¼‰
log.info("ç”¨æˆ·: {}", user);
// è¾“å‡º: ç”¨æˆ·: UserDTO(id=1, phone=138****5678, idCard=110101********1234)

// API è¿”å›ï¼ˆä¸è„±æ•ï¼Œè¿”å›å®Œæ•´æ•°æ®ï¼‰
@GetMapping("/user")
public UserDTO getUser() {
    return user;  // âœ… JSON è¿”å›å®Œæ•´æ•°æ®
}
```

#### ğŸ†• æ–¹æ¡ˆäº”ï¼šAPI è¿”å›å€¼è„±æ• (æ–°åŠŸèƒ½ â­)

**éœ€è¦å¯¹ API è¿”å›å€¼ä¹Ÿè„±æ•ï¼Ÿåªéœ€è®¾ç½® `forApi=true`ï¼**

```java
@Data
public class UserDTO extends SensitiveEntity {

    @Sensitive(type = SensitiveType.PHONE, forApi = true)  // â­ å¯ç”¨ API è„±æ•
    private String phone;

    @Sensitive(type = SensitiveType.ID_CARD)  // é»˜è®¤ forApi=false
    private String idCard;
}

// æ—¥å¿—æ‰“å°ï¼ˆè‡ªåŠ¨è„±æ•ï¼‰
log.info("ç”¨æˆ·: {}", user);
// è¾“å‡º: UserDTO(phone=138****5678, idCard=110101********1234)

// API è¿”å›ï¼ˆphone è„±æ•ï¼ŒidCard å®Œæ•´ï¼‰
@GetMapping("/user")
public UserDTO getUser() {
    return user;
    // JSON: {"phone":"138****5678","idCard":"110101199001011234"}
}
```

**API è„±æ•ç‰¹æ€§:**
- âœ… **é›¶é…ç½®**: æ— éœ€ä»»ä½•é…ç½®ç±»ï¼Œæ·»åŠ æ³¨è§£å³ç”Ÿæ•ˆ
- âœ… **çµæ´»æ§åˆ¶**: å­—æ®µçº§åˆ«çš„ç»†ç²’åº¦æ§åˆ¶
- âœ… **æ¡†æ¶æ— å…³**: çº¯ Jackson å®ç°ï¼Œä»»ä½•é¡¹ç›®éƒ½èƒ½ç”¨
- âœ… **å‘åå…¼å®¹**: é»˜è®¤ `forApi=false`ï¼Œä¸å½±å“ç°æœ‰ä»£ç 

#### æ–¹æ¡ˆäºŒï¼šå®ç°æ¥å£ï¼ˆå·²æœ‰çˆ¶ç±»æ—¶ä½¿ç”¨ï¼‰

```java
@Data
public class UserDTO extends BaseEntity implements SensitiveToStringSupport {
    
    @Sensitive(type = SensitiveType.PHONE)
    private String phone;
    
    @Override
    public String toString() {
        return toSensitiveString();  // è°ƒç”¨æ¥å£é»˜è®¤æ–¹æ³•
    }
}
```

#### æ–¹æ¡ˆä¸‰ï¼šé…åˆ Lombok ä½¿ç”¨

```java
@Data
@ToString(onlyExplicitlyIncluded = true)  // ç¦ç”¨ Lombok è‡ªåŠ¨ toString
public class UserDTO {
    
    @ToString.Include
    private Long id;
    
    @Sensitive(type = SensitiveType.PHONE)
    private String phone;
    
    @Override
    public String toString() {
        return SensitiveToStringBuilder.build(this);
    }
}
```

#### æ–¹æ¡ˆå››ï¼šJackson åºåˆ—åŒ–ï¼ˆéœ€è¦ JSON æ ¼å¼æ—¶ï¼‰

```java
@Data
public class UserDTO {
    
    @Sensitive(type = SensitiveType.PHONE)
    private String phone;
}

// ä½¿ç”¨ SensitiveLogUtils
log.info("ç”¨æˆ·: {}", SensitiveLogUtils.toJson(user));
// è¾“å‡º: ç”¨æˆ·: {"id":1,"phone":"138****5678"}
```

---

## ä¸ºä»€ä¹ˆ toString() ä¸å½±å“ API è¿”å›ï¼Ÿ

### ä¼ ç»Ÿæ–¹æ¡ˆ (forApi = false,é»˜è®¤)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Spring MVC æ¥å£è¿”å›                           â”‚
â”‚  @ResponseBody â†’ Jackson ObjectMapper.writeValueAsString()      â”‚
â”‚  âœ… è°ƒç”¨ getter æ–¹æ³•è·å–å€¼                                        â”‚
â”‚  âŒ ä¸è°ƒç”¨ toString()                                            â”‚
â”‚  ç»“æœï¼šè¿”å›å®Œæ•´æ•°æ®                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ—¥å¿—æ‰“å°                                   â”‚
â”‚  log.info("user: {}", user)                                     â”‚
â”‚  âœ… SLF4J è°ƒç”¨ user.toString()                                   â”‚
â”‚  ç»“æœï¼šè¿”å›è„±æ•æ•°æ®                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ†• æ–°æ–¹æ¡ˆ (forApi = true)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Spring MVC æ¥å£è¿”å›                           â”‚
â”‚  @ResponseBody â†’ Jackson åºåˆ—åŒ–                                  â”‚
â”‚  âœ… å‘ç° @Sensitive(forApi=true)                                 â”‚
â”‚  âœ… ä½¿ç”¨ SensitiveJsonSerializer è„±æ•                            â”‚
â”‚  ç»“æœï¼šAPI è¿”å›ä¹Ÿè„±æ•                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ—¥å¿—æ‰“å°                                   â”‚
â”‚  log.info("user: {}", user)                                     â”‚
â”‚  âœ… SLF4J è°ƒç”¨ user.toString()                                   â”‚
â”‚  ç»“æœï¼šæ—¥å¿—ä¹Ÿè„±æ•                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…³é”®åŒºåˆ«**:
- `forApi = false`: æ—¥å¿—è„±æ•ï¼ŒAPI å®Œæ•´ (é»˜è®¤è¡Œä¸º)
- `forApi = true`: æ—¥å¿—å’Œ API éƒ½è„±æ• (æ–°åŠŸèƒ½)

---

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Spring MVC æ¥å£è¿”å›                           â”‚
â”‚  @ResponseBody â†’ Jackson ObjectMapper.writeValueAsString()      â”‚
â”‚  âœ… è°ƒç”¨ getter æ–¹æ³•è·å–å€¼                                        â”‚
â”‚  âŒ ä¸è°ƒç”¨ toString()                                            â”‚
â”‚  ç»“æœï¼šè¿”å›å®Œæ•´æ•°æ®                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ—¥å¿—æ‰“å°                                   â”‚
â”‚  log.info("user: {}", user)                                     â”‚
â”‚  âœ… SLF4J è°ƒç”¨ user.toString()                                   â”‚
â”‚  ç»“æœï¼šè¿”å›è„±æ•æ•°æ®                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## é…ç½®é¡¹

```yaml
sensitive:
  log:
    # æ˜¯å¦å¯ç”¨è„±æ•ï¼ˆé»˜è®¤ trueï¼‰
    enabled: true
    
    # è„±æ•æ¨¡å¼ï¼ˆé»˜è®¤ BOTHï¼‰
    # - JACKSON: ä½¿ç”¨ Jackson åºåˆ—åŒ–è„±æ•
    # - TO_STRING: ä½¿ç”¨ toString() è„±æ•
    # - BOTH: åŒæ—¶æ”¯æŒä¸¤ç§æ–¹å¼
    mode: BOTH
    
    # é»˜è®¤æ©ç å­—ç¬¦ï¼ˆé»˜è®¤ *ï¼‰
    mask-char: '*'
    
    # toString é…ç½®
    to-string-config:
      # æ˜¯å¦å¯ç”¨åå°„ç¼“å­˜ï¼ˆé»˜è®¤ trueï¼‰
      enable-cache: true
      # ç¼“å­˜æœ€å¤§å®¹é‡ï¼ˆé»˜è®¤ 1000ï¼‰
      cache-max-size: 1000
```

---

## æ”¯æŒçš„è„±æ•ç±»å‹

| ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `PHONE` | æ‰‹æœºå· | `138****5678` |
| `ID_CARD` | èº«ä»½è¯ | `110101********1234` |
| `BANK_CARD` | é“¶è¡Œå¡ | `6222****0123` |
| `EMAIL` | é‚®ç®± | `t***@example.com` |
| `NAME` | å§“å | `å¼ *ä¸°` |
| `ADDRESS` | åœ°å€ | `åŒ—äº¬å¸‚æœé˜³åŒº***` |
| `PASSWORD` | å¯†ç  | `******` |
| `IP_ADDRESS` | IPåœ°å€ | `192.168.*.*` |
| `CUSTOM` | è‡ªå®šä¹‰ | æ ¹æ®é…ç½® |
| `DEFAULT` | é»˜è®¤ | `a*****z` |

---

## é«˜çº§ç”¨æ³•

### è‡ªå®šä¹‰è„±æ•è§„åˆ™

```java
// è‡ªå®šä¹‰å‰åä¿ç•™é•¿åº¦
@Sensitive(type = SensitiveType.CUSTOM, prefixLength = 2, suffixLength = 3)
private String customField;
// "1234567890" -> "12*****890"

// è‡ªå®šä¹‰æ©ç å­—ç¬¦
@Sensitive(type = SensitiveType.PHONE, maskChar = '#')
private String phone;
// "13812345678" -> "138####5678"
```

### ä¸´æ—¶ç¦ç”¨è„±æ•

```java
// æ–¹å¼1ï¼štry-with-resources
try (var scope = SensitiveLogUtils.disableMask()) {
    log.debug("å®Œæ•´æ•°æ®: {}", SensitiveLogUtils.toJson(user));
}

// æ–¹å¼2ï¼šç›´æ¥è°ƒç”¨
String rawJson = SensitiveLogUtils.toRawJson(user);
```

### è¿è¡Œæ—¶åˆ‡æ¢æ¨¡å¼

```java
// åˆ‡æ¢åˆ°çº¯ toString æ¨¡å¼
SensitiveLogUtils.setMode(MaskMode.TO_STRING);

// åˆ‡æ¢åˆ°çº¯ Jackson æ¨¡å¼
SensitiveLogUtils.setMode(MaskMode.JACKSON);
```

### é€‰æ‹©æ€§è¾“å‡ºå­—æ®µ

```java
// åªè¾“å‡ºæŒ‡å®šå­—æ®µ
String result = SensitiveToStringBuilder.buildWith(user, "id", "phone");

// æ’é™¤æŒ‡å®šå­—æ®µ
String result = SensitiveToStringBuilder.buildWithout(user, "password");
```

---

## æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | ä»£ç é‡ | çµæ´»æ€§ | APIå½±å“ | æ¨èåœºæ™¯ |
|------|--------|--------|---------|----------|
| ç»§æ‰¿ SensitiveEntity | â­ æœ€å°‘ | ä¸­ | âŒ æ—  | æ–°é¡¹ç›®é¦–é€‰ |
| å®ç° SensitiveToStringSupport | â­â­ å°‘ | é«˜ | âŒ æ—  | å·²æœ‰çˆ¶ç±» |
| Lombok é…åˆ | â­â­â­ ä¸­ | æœ€é«˜ | âŒ æ—  | éœ€è¦ç»†ç²’åº¦æ§åˆ¶ |
| SensitiveLogUtils.toJson() | â­â­ å°‘ | é«˜ | âŒ æ—  | éœ€è¦ JSON æ ¼å¼ |

---

## æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ä¸šåŠ¡ä»£ç                                  â”‚
â”‚                                                                 â”‚
â”‚  æ–¹æ¡ˆ1: log.info("user: {}", user);        // toString è„±æ•     â”‚
â”‚  æ–¹æ¡ˆ2: log.info("user: {}", SensitiveLogUtils.toJson(user));  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SensitiveEntity    â”‚       â”‚   SensitiveLogUtils     â”‚
â”‚  toString()         â”‚       â”‚   toJson()              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                               â”‚
          â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SensitiveToString   â”‚       â”‚   SensitiveSerializer   â”‚
â”‚ Builder             â”‚       â”‚   (Jackson)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                               â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚ MaskStrategyFactory â”‚
               â”‚  EnumMap O(1) æŸ¥æ‰¾   â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚   Log4j2/Logback    â”‚
               â”‚   ç›´æ¥è¾“å‡ºå·²è„±æ•å†…å®¹  â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ€§èƒ½æ•°æ®

æµ‹è¯•ç¯å¢ƒï¼šJDK 17, MacBook Pro M1

| æ“ä½œ | ååé‡ |
|------|--------|
| SensitiveEntity.toString() | ~8,000 ops/ms |
| SensitiveLogUtils.toJson() | ~5,000 ops/ms |
| å•å­—æ®µè„±æ• | ~15,000 ops/ms |

---

## æ³¨æ„äº‹é¡¹

1. **toString æ–¹æ¡ˆä¸å½±å“ API è¿”å›**ï¼šSpring MVC ä½¿ç”¨ Jackson åºåˆ—åŒ–ï¼Œè°ƒç”¨ getter è€Œé toString()

2. **çº¿ç¨‹å®‰å…¨**ï¼šæ‰€æœ‰ç»„ä»¶éƒ½æ˜¯çº¿ç¨‹å®‰å…¨çš„

3. **ç©ºå€¼å¤„ç†**ï¼šnull å€¼ç›´æ¥è¾“å‡º `null`ï¼Œä¸ä¼šæŠ¥é”™

4. **åµŒå¥—å¯¹è±¡**ï¼šJackson æ–¹æ¡ˆæ”¯æŒåµŒå¥—å¯¹è±¡é€’å½’è„±æ•

5. **Lombok å…¼å®¹**ï¼šå¯é…åˆ `@Data`ã€`@Builder` ç­‰æ³¨è§£ä½¿ç”¨

## License

MIT License
